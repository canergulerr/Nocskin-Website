!function(e){function t(t){for(var n,o,l=t[0],d=t[1],c=t[2],s=0,p=[];s<l.length;s++)o=l[s],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);for(u&&u(t);p.length;)p.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,l=1;l<r.length;l++){var d=r[l];0!==i[d]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={31:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=d;a.push([212,0]),r()}({112:function(e,t,r){e.exports=function(e){const t=r(5);r(6);return e=function(e){const n=r(7),i={};return e&&Object.keys(e).forEach(r=>{e[r]&&!Array.isArray(e[r])&&"object"==typeof e[r]?i[r]=n({},e[r],(e,r)=>"string"==typeof r?t(r):r):i[r]="string"==typeof e[r]?t(e[r]):e[r]}),i}(e),function(){return`<li>\n  <div class="regimen-builder__sort" rel="${e.key}">\n    <img src="${e.imageSrc}" />\n    <div class="sort_name">\n        ${e.letter}\n    </div>\n  </div>\n</li>\n\n`}.call(e)}},113:function(e,t,r){e.exports=function(e){const t=r(5),n=r(6);return e=function(e){const n=r(7),i={};return e&&Object.keys(e).forEach(r=>{e[r]&&!Array.isArray(e[r])&&"object"==typeof e[r]?i[r]=n({},e[r],(e,r)=>"string"==typeof r?t(r):r):i[r]="string"==typeof e[r]?t(e[r]):e[r]}),i}(e),function(){return`<form action="${e.results}" method="POST">\n  <input type="hidden" name="jsonData" value="${n(e.state)}" />\n  <input type="hidden" name="trackingData" value="${n(e.tracking)}" />\n  <input type="hidden" name="lastStep" value="${e.lastStep}" />\n</form>\n`}.call(e)}},2:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){"function"==typeof e?e():"object"===n(e)&&Object.keys(e).forEach((function(t){"function"==typeof e[t]&&e[t]()}))}},212:function(e,t,r){"use strict";r.r(t);var n=r(2),i=r.n(n),a=r(111),o=r(112),l=r.n(o),d=r(113),c=r.n(d),u=r(38),s=r.n(u),p=r(4);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}s.a.polyfill();var v={0:{next:1,prev:0,text:"00",valid:function(){return!0}},1:{next:2,prev:1,text:"01",valid:function(e){return e.name&&e.name.length>0&&e.name.length<=50}},2:{next:3,prev:1,text:"02",valid:function(){return!0}},3:{next:4,prev:2,text:"03",valid:function(e){return null!==e.ageFrom&&e.ageFrom>0}},4:{next:5,prev:3,text:"04",valid:function(e){return null!==e.skinType}},5:{next:6,prev:4,text:"05",valid:function(e){return e.skinConcerns.length>0}},6:{next:7,prev:5,text:"06",valid:function(){return!0}},7:{next:8,prev:6,text:"07",valid:function(){return!0}},8:{next:9,prev:7,text:"08",valid:function(e){return null!==e.isPregnant}},9:{next:10,prev:8,text:"09",valid:function(e){return null!==e.preferredSkinCareRoutineType}},10:{next:11,prev:9,text:"10",valid:function(e){return!0===e.currentProductsSelected}},11:{next:12,prev:10,text:"11",valid:function(e){return null!==e.experienceLevel}},12:{next:13,prev:11,text:"12",valid:function(e){return null!=e.preferredCleanserTexture}},13:{next:14,prev:12,text:"13",valid:function(e){return null!=e.preferredMoisturizerTexture}},14:{next:15,prev:-1,text:"",valid:function(){return!0}}},h={name:null,email:null,ageRange:null,ageFrom:null,ageTo:null,skinType:null,isPregnant:null,preferredSkinCareRoutineType:null,preferredSkinCareRoutineTypeText:null,experienceLevel:0,experienceLevelText:"Beginner",preferredCleanserTexture:null,preferredMoisturizerTexture:null,skinConcerns:[],currentProductsSelected:!1,currentProducts:null,eyeConcerns:null},y=null;var k=function(e){$(".regimen-builder__ok").attr("disabled",!e)},x=function(e){$(".regimen-builder__wrapper").attr("data-current-step",e);$(".regimen-builder__caret").css({width:"".concat(e*(100/12),"%")});var t=$(".regimen-builder__step").length;if($(".regimen-builder__actions").toggleClass("shown",e>=0&&e<=t),e<14&&($(".regimen-builder__step.active").removeClass("active anim"),$(".regimen-builder__step[data-step='".concat(e,"']")).addClass("active")),setTimeout((function(){$(".regimen-builder__step[data-step='".concat(e,"']")).addClass("anim")}),1),$(".regimen-builder__back").toggle(e>1&&e<t).blur(),$(".regimen-builder__ok").toggle(e<t).blur(),$(".regimen-builder__time").toggle(1===e),$(".regimen-builder__contact").toggle(4===e||5===e),$(".regimen-builder__ok").text(10===e?$(".regimen-builder__ok").data("finish"):$(".regimen-builder__ok").data("ok")),k(v[e].valid(h)),0===e?$(".btn.regimen-builder__ok").text(window.SFRA.Resources.regimentBeginButton):$(".btn.regimen-builder__ok").text(window.SFRA.Resources.regimentNextButton),14===e){$(".regimen-builder__actions").css("opacity","0"),$.spinner({useVideo:!0}).start(),$(".regimen-builder__poswrap").hide();var r=JSON.parse(JSON.stringify(h));setTimeout((function(){$(c()({results:$(".regimen-builder__wrapper").data("results"),state:encodeURIComponent(JSON.stringify(r)),lastStep:v[10].text,tracking:encodeURIComponent(JSON.stringify(r.skinConcerns))})).insertAfter(".regimen-builder__actions").end().trigger("submit")}),5e3)}e>1&&$(document).trigger("regimenBuilder:completedStep",{formStep:e,state:h})},w=function(){$("html").toggleClass("regimen-builder__m",Object(p.d)()),$(".regimen-builder__wrapper input:eq(0)").val().length>0&&window.location.reload(),$(".regimen-builder__step").each((function(e,t){$(t).attr("data-step",e),v[e]&&v[e].text&&$(t).attr("data-step-text","".concat(v[e].text," / ").concat(Object.keys(v).length-2)),0===e&&($(".regimen-builder__posfrom").text("".concat(v[e].text,".")),$(t).attr("data-step-text",window.SFRA.Resources.regimentBuilderText))})),x(0),Object(p.d)()&&($("html").addClass("regimen-builder__filling"),$(".regimen-builder__poswrap").addClass("regimen-builder__poswrap--shown")),$(".btn.regimen-builder__ok").on("click",(function(){var e=parseInt($(".regimen-builder__step.active").attr("data-step"),10),t=v[e].next;if(1===e){var r=$(".regimen-builder__step[data-step='1'] input").val(),n=new RegExp($(".regimen-builder__step[data-step='1'] input").data("regex"));if(r&&!n.test(r))return void $(".regimen-builder__step[data-step='1'] .invalid-feedback").addClass("d-block");$(".regimen-builder__step[data-step='1'] .invalid-feedback").removeClass("d-block")}if(2===e){var i=$(".regimen-builder__step[data-step='2'] input").val();if(i&&!/^((?!\.)[\w\-_.]*[^.])(@\w+)(\.\w+(\.\w+)?[^.\W])$/.test(i))return void $(".regimen-builder__step[data-step='2'] .invalid-feedback").addClass("d-block");$(".regimen-builder__step[data-step='2'] .invalid-feedback").removeClass("d-block")}$(".regimen-builder__step.active").removeClass("active anim");var a=$(".regimen-builder__step[data-step='".concat(t,"']"));a.addClass("active"),a.css("animation","slideInFromRight 0.5s ease-out forwards"),x(t),window.scrollTo({top:Object(p.d)()?0:$(".regimen-builder__steps").position().top-$(".page > header").height(),left:0,behavior:"smooth"})})),$(".regimen-builder__back").on("click",(function(){var e=parseInt($(".regimen-builder__step.active").attr("data-step"),10);x(v[e].prev),window.scrollTo({top:Object(p.d)()?0:$(".regimen-builder__steps").position().top-$(".page > header").height(),left:0,behavior:"smooth"})})),$(".regimen-builder__step[data-step='1'] input").on("keyup",(function(e){h=_(_({},h),{},{name:$(e.target).val()}),$(e.target).parent().toggleClass("regimen-builder__field--filled",$(e.target).val().length>0),k(v[1].valid(h))})),$(".regimen-builder__step[data-step='2'] input").on("keyup",(function(e){h=_(_({},h),{},{email:$(e.target).val()}),$(e.target).parent().toggleClass("regimen-builder__field--filled",$(e.target).val().length>0),k(v[2].valid(h))})),$(".regimen-builder__step[data-step='3'] input").on("change",(function(e){h=_(_({},h),{},{ageRange:$(e.target).val(),ageFrom:$(e.target).data("from"),ageTo:$(e.target).data("to")}),$(e.target).parent().toggleClass("regimen-builder__field--filled",$(e.target).val().length>0),k(v[3].valid(h))})),$(".regimen-builder__step[data-step='4'] input").on("change",(function(e){var t=$(e.target).val();h=_(_({},h),{},{skinType:t,skinTypeKey:$(e.target).data("key")}),$(".regimen-builder__step[data-step='12'] .reccomendation").remove(),$(".regimen-builder__step[data-step='13'] .reccomendation").remove();var r=$("<div></div>");r.addClass("reccomendation"),r.text(window.SFRA.Resources.regimenBuilderRecommendation);var n=$("<div></div>");n.addClass("reccomendation"),n.text(window.SFRA.Resources.regimenBuilderRecommendation),t.includes("Balanced")||t.includes("Combination")?($(".regimen-builder__step[data-step='12'] .cream").append(r),$(".regimen-builder__step[data-step='13'] .cream-light").append(n)):t.includes("Dry")?($(".regimen-builder__step[data-step='12'] .balm").append(r),$(".regimen-builder__step[data-step='13'] .cream-rich").append(n)):t.includes("Oily")&&($(".regimen-builder__step[data-step='12'] .gel").append(r),$(".regimen-builder__step[data-step='13'] .gel").append(n)),$(e.target).parent().toggleClass("regimen-builder__field--filled",t.length>0),k(v[4].valid(h))}));var e=0;function t(e){var t=$('.regimen-flyout-container-root[data-flyout="'.concat(e,'"]')),r=$('.regimen-flyout-container[data-flyout="'.concat(e,'"]'));t.append('<div class="regimen-flyout-container-overlay open"></div>'),$("body").css("overflow","hidden"),function(e,t){var r=function(r){e.is(r.target)||0!==e.has(r.target).length||(e.removeClass("open"),t.removeClass("open"),$("body").css("overflow","unset"))};e&&e.toggleClass("open").promise().done((function(){e.hasClass("open")?$(document).on("mouseup",r):$(document).off("mouseup",r)}))}(r,$(".regimen-flyout-container-overlay"))}$(".regimen-builder__step[data-step='5'] input").on("change",(function(t){var r,n=$(".regimen-builder__step[data-step='5'] input:checked");if(t.target.checked){if(e+=1,$(t.target).attr("data-selection-order",e),n.length>3){var i=n.sort((function(e,t){return parseInt($(e).attr("data-selection-order"),11)-parseInt($(t).attr("data-selection-order"),11)})).first();i.prop("checked",!1),i.removeAttr("data-selection-order"),i.closest(".regimen-builder__field").removeClass("regimen-builder__field--checked")}}else $(t.target).removeAttr("data-selection-order");h=_(_({},h),{},{skinConcerns:$(".regimen-builder__step[data-step='5'] input:checked").map((function(e,t){return{concernKey:$(t).data("key"),name:$(t).parent()[0].querySelector(".regimen-builder__letter").innerText,rank:e}})).toArray()}),$(t.target).closest(".regimen-builder__field").toggleClass("regimen-builder__field--checked",t.target.checked),(r=$(".regimen-builder__step[data-step='6'] .regimen-builder__list")).find("li").remove(),$(".regimen-builder__step[data-step='5'] .regimen-builder__field--checked").each((function(e){var t=$(this.querySelector("input")).data("key"),n=$(this.querySelector(".regimen-builder__letter")).text().replace(".","");n=e+1+"."+n,r.append($(l()({imageSrc:this.querySelector("img").src,key:t,letter:n})))})),$(".regimen-builder__step[data-step='6'] .regimen-builder__field--sort > .regimen-builder__list").each((function(){var e=this;y&&y.destroy(),y=a.a.create(this,{fallbackOnBody:!0,animation:100,ghostClass:"sortable__ghost",chosenClass:"sortable__chosen",dragClass:"sortable__drag",onEnd:function(){h=_(_({},h),{},{skinConcerns:$(e).find("li").map((function(e,t){var r=$(t).find(".regimen-builder__sort .sort_name"),n=$(t).find(".regimen-builder__sort").attr("rel"),i=h.skinConcerns.find((function(e){return e.concernKey===n}));return r.html("".concat(e+1,". ").concat(i.name)),_(_({},i),{},{rank:e})})).toArray()}),k(v[6].valid(h))}})})),k(v[5].valid(h))})),$(".regimen-builder__step[data-step='7'] input").on("change",(function(e){h=_(_({},h),{},{eyeConcerns:$(".regimen-builder__step[data-step='7'] input:checked").map((function(e,t){return $(t).data("key")})).toArray()}),$(e.target).closest(".regimen-builder__field").toggleClass("regimen-builder__field--checked",e.target.checked)})),$(".regimen-builder__step[data-step='8'] input").on("change",(function(e){h=_(_({},h),{},{isPregnant:$(e.target).val()}),$(e.target).parent().toggleClass("regimen-builder__field--filled",$(e.target).val().length>0),k(v[8].valid(h))})),$(".regimen-builder__step[data-step='9'] input").on("change",(function(e){h=_(_({},h),{},{preferredSkinCareRoutineType:parseInt($(e.target).val(),10)}),$(e.target).parent().toggleClass("regimen-builder__field--filled",$(e.target).val().length>0),h=_(_({},h),{},{preferredSkinCareRoutineTypeText:$(e.target).next(".regimen-builder__option").text()}),k(v[9].valid(h))})),$(".regimen-builder__step[data-step='10'] input").on("change",(function(e){"I donâ€™t have a skincare routine"===$(e.target).val()?($(".regimen-builder__step[data-step='10'] label.radio-btn.checked:not(.none) input").prop("checked",!1),$(".regimen-builder__step[data-step='10'] label.radio-btn.checked:not(.none)").removeClass("checked")):($(".regimen-builder__step[data-step='10'] label.radio-btn.none input").prop("checked",!1),$(".regimen-builder__step[data-step='10'] label.radio-btn.none").removeClass("checked"));var t=$(".regimen-builder__step[data-step='10'] label.radio-btn input:checked").length>0;h=_(_({},h),{},{currentProductsSelected:t});var r=[];$(".regimen-builder__step[data-step='10'] label.radio-btn input:checked").each((function(){r.push($(this).val())})),r=r.join(","),h=_(_({},h),{},{currentProducts:r}),k(v[10].valid(h))})),$(".regimen-builder__step[data-step='11'] input").on("change",(function(e){var t=parseInt($(e.target).val(),11)-1;h=_(_({},h),{},{experienceLevel:t});var r=$(e.target).closest(".regimen-builder__field").find(".regimen-builder__tick"),n=$(r[t]).attr("rel");h=_(_({},h),{},{experienceLevelText:n}),k(v[11].valid(h))})),$(".regimen-builder__step[data-step='12'] input").on("change",(function(e){var t=$(".regimen-builder__step[data-step='12'] input:checked");t.prop("checked",!1),t.closest(".regimen-builder__field").removeClass("regimen-builder__field--checked"),h=_(_({},h),{},{preferredCleanserTexture:$(e.target).val()}),$(e.target).prop("checked",!0),$(e.target).closest(".regimen-builder__field").toggleClass("regimen-builder__field--checked",e.target.checked),k(v[12].valid(h))})),$(".regimen-builder__step[data-step='13'] input").on("change",(function(e){var t=$(".regimen-builder__step[data-step='13'] input:checked");t.prop("checked",!1),t.closest(".regimen-builder__field").removeClass("regimen-builder__field--checked"),h=_(_({},h),{},{preferredMoisturizerTexture:$(e.target).val()}),$(e.target).prop("checked",!0),$(e.target).closest(".regimen-builder__field").toggleClass("regimen-builder__field--checked",e.target.checked),k(v[13].valid(h))}));Object.entries({3:"age-range",4:"skin-type",5:"skin-concerns",8:"pregnancy"}).forEach((function(e){var r=g(e,2),n=r[0],i=r[1];$(".whyWeAskStep".concat(n,", .identifyStep").concat(n)).on("click",(function(){return t(i)})),$('.regimen-flyout-container[data-flyout="'.concat(i,'"] .close')).on("click",(function(){return function(e){var t=$('.regimen-flyout-container[data-flyout="'.concat(e,'"]')),r=$(".regimen-flyout-container-overlay");r.removeClass("open"),t.removeClass("open"),$("body").css("overflow","unset"),setTimeout((function(){r.remove()}),300)}(i)}))}))};$(window).on("resize",(function(){$("html").toggleClass("regimen-builder__m",!window.matchMedia("(min-width: 768px)").matches)})),document.querySelectorAll('.custom-radio-btns input[type="radio"]').forEach((function(e){e.addEventListener("change",(function(){this.closest(".regimen-builder__step").querySelectorAll(".radio-btn").forEach((function(e){e.classList.remove("checked")})),this.checked&&this.closest(".radio-btn").classList.add("checked")}))})),document.querySelectorAll('.custom-radio-btns input[type="checkbox"]').forEach((function(e){e.addEventListener("change",(function(){this.checked?this.closest(".radio-btn").classList.add("checked"):this.closest(".radio-btn").classList.remove("checked")}))})),$(document).ready((function(){i()(w)}))},4:function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return d}));var n={get xs(){return 0},get sm(){return 543.98},get md(){return 767.98},get lg(){return 1023.98},get xl(){return 1365.98}};function i(){return!!(window.innerWidth&&window.innerWidth<=n.md)}function a(){return!!(window.innerWidth&&window.innerWidth<=n.lg)}function o(){return!!(window.innerWidth&&window.innerWidth>n.lg)}function l(){return!(!/iPad|iPhone|iPod/.test(navigator.userAgent)||window.MSStream)}function d(){var e=-1!==navigator.appVersion.indexOf("Mac"),t=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome");return!(!e||!t)}}});